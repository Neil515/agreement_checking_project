# AI 合約條款風險分析工具

這是一個使用 GPT 模型的條款風險分析工具，幫助使用者自動檢測合約內容中可能須注意的條款。本工具支援中文與英文條文的判斷，並提供簡潔的 JSON 輸出與視覺化報告。

---

## ✅ 最新進度整理（更新：2025-06-28）

### 📌 今日進度總結（2025-06-28）

#### ✅ 條文測試與錯誤類型確認

* 成功測試條文第 41-50 條，白名單分類皆正確，黑名單類型錯誤集中於未定義的英文類型分類
* 確認 GPT 分析英文條款時會回傳英文 `type`、`reason`，並與預期的中文分類不易比對

#### ✅ 中英文風險類型支援規劃完成

* 明確規劃將 `type` 欄位擴充為中英文格式：

  ```json
  "type": {
    "zh": "消費者權益剝奪",
    "en": "Waiver of Rights"
  }
  ```
* 完成初步設計流程圖，預計明日執行以下工作：

```
[1] 建立風險類型中英文對照表
    └─→ data/risk_type_mapping.json

[2] 修改 prompts/prompt_template_en.txt
    └─→ 引導 GPT 使用固定英文類型

[3] 修改所有測資檔案：risk_examples.json 等
    └─→ 將 type 改為 zh/en 雙欄位

[4] 修改主程式與測試程式：
    ├─→ core/risk_analyzer.py
    └─→ tests/test_risk_cases_runner_dual.py
    （改為使用 type['en'] 做比對）

[5] 修改報表報告：report_template.html
    └─→ 支援語系切換顯示 type.zh / type.en
```

#### ✅ 移除已完成任務：

* 條文 41-50 測試結果已確認，從 next\_task\_prompt 中移除該項

---

## 🔜 下一階段任務（2025-06-29 起）

1. 📁 擴充黑名單測資至 100 條以上，並補齊 `tags` 與分類
2. 🌐 實作中英文類型支援功能與報表對應
3. 🧱 建立風險類型標準集，供 prompt 與測資統一參考

---

## ✅ 現有功能

* 中英文條文語言自動判斷與清理
* GPT 分析模組 `risk_analyzer.py`
* 條文快取機制 `results_cache.json`
* 白名單與風險條文資料庫（格式統一）
* CLI 工具：分析、測試、語言與類型標註

---

開發進度持續穩定推進，團隊已進入分類標準與結構優化階段，明日將執行核心轉型任務。

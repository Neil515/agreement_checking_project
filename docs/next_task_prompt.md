## 明天優先處理項目與建議作法（2025/06/21）

### ✅ 優先任務

4. **風險判斷過度：需優化模型的辨識策略**

   * 問題：即便是正式條款，仍被標示出過多中高風險條文，造成噪音。
   * 建議做法：

     * 引入「上下文」判斷：非獨立句子（如定義、章節標題）應自動標為 No Risk。
     * 設計「風險下限」門檻：只有觸發明顯關鍵字（如 irrevocable, waive, binding, solely liable）才進入高風險評估流程。
     * 段落級別加權：若句子出現在中立段或背景敘述段（如開頭歡迎語），自動降低風險等級。

5. **分析速度過慢：需優化批次 API 請求**

   * 問題：目前逐句呼叫 GPT（每句一請求）導致分析需時超過 5 分鐘。
   * 建議做法：

     * 改為「5～10 句一批」進行 API 分析（GPT 批次輸入）。
     * 可考慮使用 GPT-4o 搭配 system/user/assistant role 樣板方式提高效率。
     * CLI 層加入 progress bar 改善使用者體驗。

6. **前端切換語系機制（可明日開始）**

   * 建議做法：

     * 使用 langToggle 按鈕 + data-lang="en"/"zh" 包裹語句。
     * 切換時在 JS 控制：`document.documentElement.lang = 'en';`（或 zh）。
     * 替代方案：每個標籤備好中英文版本，用 .hidden 類別切換顯示。

### 💡 待觀察與可選優化項目

* **支援使用者自訂風險提示規則（選配）**

  * 未來可以允許使用者自定義哪些條款「視為風險」或「忽略」
  * 可用 checkbox 或 pattern keyword 進行控制

* **分析速度優化：平行化請求（選配）**

  * 當條款句數很多時，分析速度變慢
  * 未來可使用 async 或 background job 優化

---

（可由你在前端選單點選是否啟用原始分析、或只使用 mock）

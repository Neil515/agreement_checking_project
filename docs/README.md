# AI 合約條款風險分析工具

這是一個基於 GPT 模型的合約條款風險辨識工具，用於分析中英文合約條文，自動辨識「須注意」條款，輸出 JSON 結果。支援條文斷句、風險分類、主類別對應、雙語標註與視覺化分析，適用於風險預警、法律審閱輔助與合約教育場域。

---

## ✅ 最新進度整理（更新：2025-07-13）

### 一、Chrome Extension MVP 優化

* 側欄 UI 顯示：於網頁右側建立固定側欄，顯示條文分析進度與須注意條文摘要。
* 條文處理狀態提示：「分析中」→「須注意 / 一般資訊」即時更新，並支援排序與篩選。
* 新增碼表（Timer）顯示分析所需時間，強化使用者體感。
* 條文清單前綴改為條文開頭摘要（避免混淆的 n 編號）。
* 條文標記不足問題補強，並統一處理短句排除與錯過統計。

### 二、模擬分析與 UX 調整

* 分析結果隨機模擬（30% 判定為須注意），便於前端測試。
* 延遲 1～3 秒模擬分析過程，避免一次出現造成誤解。
* 未標記條文數量記錄於 console，便於後續 debug 與修正。

---

## 🧩 明日任務規劃（2025-07-15）

### 目標：將 MVP 改寫為正式的 Chrome Extension 架構

**現況問題：** 所有 sidebar UI 組件都寫死於 content.js，不利維護與擴充。

**待完成事項：**

1. 拆出 `sidebar.html` → 作為 manifest 註冊的側欄視圖
2. 拆出 `sidebar.js` → 管理側欄更新與與主頁訊息同步
3. 抽離樣式至 `style.css` → 所有樣式模組化
4. 修改 `manifest.json` 註冊 sidebar\_action

---

## ✅ 使用流程簡介

1. 使用者在合約頁面瀏覽時，自動擷取每段文字條文
2. 每條文即時顯示「分析中」→ 完成分析後標註風險等級
3. 顯示於原條文背景與側欄同步結果
4. 最終輸出：風險等級、類型、主分類、中英文雙語

---

## 🔍 測試與驗證模組

* 測試檔案：`test_risk_analyzer.py`、`test_single_clause.py` 等
* 測試資料：黑白名單 `risk_examples.json`、`whitelist_examples.json`

---

✅ 本工具目前已完成 MVP 條文分析模組，正轉向 Chrome Extension 模組化階段，後續將逐步實作非同步處理、批次分析與 OCR 文件支援功能。
